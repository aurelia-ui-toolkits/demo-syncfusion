/*!
*  filename: ej.tooltip.min.js
*  version : 12.3
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min"],n):n()})(function(){var t=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},n;(function(n){var u,i,f,e,r,o;(function(n){n[n.Auto="auto"]="Auto";n[n.None="none"]="None";n[n.Sticky="sticky"]="Sticky"})(n.closeMode||(n.closeMode={}));u=n.closeMode,function(n){n[n.Slide="slide"]="Slide";n[n.Fade="fade"]="Fade";n[n.None="none"]="None"}(n.effect||(n.effect={}));i=n.effect,function(n){n[n.Hover="hover"]="Hover";n[n.Click="click"]="Click";n[n.Focus="focus"]="Focus"}(n.trigger||(n.trigger={}));f=n.trigger,function(n){n[n.Flip="flip"]="Flip";n[n.FlipFit="flipfit"]="FlipFit";n[n.None="none"]="None";n[n.Fit="fit"]="Fit"}(n.collision||(n.collision={}));e=n.collision,function(n){n[n.Window="window"]="Window";n[n.Mouse="mouse"]="Mouse";n[n.Target="target"]="Target";n[n.Axis="axis"]="Axis"}(n.associate||(n.associate={}));r=n.associate;o=function(n){function o(t,o){return n.call(this),this.defaults={height:"auto",width:"auto",enabled:!0,content:null,containment:"body",target:null,title:null,closeMode:u.None,autoCloseTimeout:4e3,position:{stem:{horizontal:"center",vertical:"bottom"},target:{horizontal:"center",vertical:"top"}},associate:r.Target,collision:e.FlipFit,cssClass:null,animation:{effect:i.None,speed:0},isBalloon:!0,showRoundedCorner:!1,enableRTL:!1,allowKeyboardNavigation:!0,tip:{size:{width:20,height:10},adjust:{xValue:0,yValue:0}},trigger:f.Hover},this._rootCSS="e-tooltip",this._setFirst=!1,this.PluginName="ejTooltip",this.id="null",this.model=null,this.arrowValue={left:0,top:0,width:0,height:0,transform:null,display:null},this.tooltipPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.targetPos=null,this.positionTarget=null,this.positionTooltip=null,this.windowSize=null,this._createTitle=function(){this.tooltipTitle=ej.buildTag("div.e-def e-header"," ",{},{});this.tooltipHeader=ej.buildTag("div"," ",{},{});$(this.tooltipTitle).html(this.model.title).appendTo(this.tooltipHeader)},t&&(t.jquery||(t=$("#"+t)),t.length)?$(t).ejTooltip(o).data(this.PluginName):void 0}return t(o,n),o.prototype.setModel=function(n,t){this.setModel(n,t)},o.prototype.option=function(n,t){this.option(n,t)},o.prototype.triggerEvents=function(n,t){var i,r,u,f,e,o;switch(n){case"click":r=t;i=this._trigger(n,r);break;case"hover":u=t;i=this._trigger(n,u);break;case"tracking":f=t;i=this._trigger(n,f);break;case"beforeOpen":case"open":e=t;i=this._trigger(n,e);break;case"beforeClose":case"close":o=t;i=this._trigger(n,o)}return i},o.prototype.enable=function(){this.tooltip.hasClass("e-disable")&&(this.model.enabled=!0,this.tooltip.removeClass("e-disable"))},o.prototype.disable=function(){this.tooltip.hasClass("e-disable")||(this.model.enabled=!1,this.tooltip.addClass("e-disable"))},o.prototype.show=function(n,t){if(this.model.enabled){if(ej.isNullOrUndefined(n)){var i=this.model.target==null?this.element:$(this.element).find(this.model.target+":first");this._positionElement(i)}else this._positionElement(n);ej.isNullOrUndefined(t)?this._showTooltip():typeof t=="string"?$(this.tooltip).show(t):typeof t=="function"&&t.call.apply(this.tooltip)}},o.prototype.hide=function(n){this.model.enabled&&(ej.isNullOrUndefined(n)?this._hideTooltip():typeof n=="string"?$(this.tooltip).hide(n):typeof n=="function"&&n.call.apply(this.tooltip))},o.prototype._destroy=function(){$(this.tooltip).remove()},o.prototype._setModel=function(n){var t,f;for(t in n)switch(t){case"height":this._setHeight(n[t]);break;case"width":this._setWidth(n[t]);break;case"enabled":this._enabled(n[t]);break;case"content":this._setContent(n[t]);break;case"title":this.model.title=n[t];this.model.title==null?($(this.tooltipHeader).remove(),this.tooltipHeader=null,this.tooltipTitle=null,this.model.closeMode==u.Sticky&&this._iconRender()):ej.isNullOrUndefined(this.tooltipHeader)?this._createHeader():$(this.tooltipTitle).html(this.model.title);this.tooltipPos.height=$(this.tooltip).outerHeight();break;case"associate":this.model.associate=n[t];this.targetElement=this.model.target!=null?$(this.element).find(this.model.target):this.element;this.model.associate==r.Mouse?this.model.target!=null?this._on(this.element,"mousemove",this.model.target,this._mousePosition):this._on(this.element,"mousemove",this._mousePosition):this._off(this.targetElement,"mousemove");break;case"position":this._setPosition(n[t]);break;case"collision":this.model.collision=n[t];break;case"closeMode":typeof n[t]!="undefined"&&(this.model.closeMode=n[t],this.model.closeMode==u.Sticky?this._iconRender():($(this.tooltipClose).remove(),this.tooltipClose=null),this.tooltipPos.height=$(this.tooltip).outerHeight());break;case"cssClass":this._setSkin(n[t]);break;case"isBalloon":ej.isNullOrUndefined(n[t])||(this.model.isBalloon=n[t],this.model.isBalloon?this._renderArrow():($(this.tip).remove(),this.tip=null));break;case"animation":f=n[t];this.model.animation=$.extend(!0,this.model.animation,f);this.model.animation.effect!=i.None?(this._off(this.tooltip,"mouseenter"),this._off(this.tooltip,"mouseleave")):this.model.animation.effect==i.None&&(this._on($(this.tooltip),"mouseenter",this._onMouseEnter),this._on($(this.tooltip),"mouseleave",this._onMouseEnter));break;case"enableRTL":this._setRTL(n[t]);break;case"trigger":this._setTrigger(n[t]);break;case"showRoundedCorner":this.model.showRoundedCorner=n[t];this._roundedCorner(n[t]);break;case"allowKeyboardNavigation":this.model.allowKeyboardNavigation=n[t]}},o.prototype._enabled=function(n){n?this.enable(n):this.disable(n)},o.prototype._setContent=function(n){this.model.content=n;$(this.tooltipContent).html(this.model.content);this.tooltipPos.height=$(this.tooltip).outerHeight();this.tooltipPos.width=$(this.tooltip).outerWidth()},o.prototype._setPosition=function(n){this.model.position.stem=$.extend(!0,this.model.position.stem,n.stem);this.model.position.target=$.extend(!0,this.model.position.target,n.target)},o.prototype._setTrigger=function(n){this._unwireEvents();this.model.trigger=n;this._wireEvents()},o.prototype._init=function(){this.id=this.element[0].id;this.positionTarget=$.extend(!0,{},this.model.position.target);this.positionTooltip=$.extend(!0,{},this.model.position.stem);this.tipSize=$.extend(!0,{},this.model.tip.size);this._initialize();this._render();this.enable(this.model.enabled);this._wireEvents()},o.prototype._initialize=function(){if(ej.isNullOrUndefined(this.model.target))ej.isNullOrUndefined(this.model.content)&&!ej.isNullOrUndefined(this.element.attr("title"))&&(this.model.content=this.element.attr("title"),this.element.attr("data-content",this.model.content),this.element.removeAttr("title"));else{var n;for(this.targetElement=$(this.element).find(this.model.target),n=0;n<this.targetElement.length;n++)ej.isNullOrUndefined(this.targetElement.attr("title"))||(this.targetElement[n].setAttribute("data-content",this.targetElement[n].title),this.targetElement[n].removeAttribute("title"))}},o.prototype._wireEvents=function(){this.model.associate==r.Mouse&&(this.model.target!=null?this._on(this.element,"mousemove",this.model.target,this._mousePosition):this._on(this.element,"mousemove",this._mousePosition));this.model.trigger==f.Click?this.model.target!=null?this._on(this.element,"click",this.model.target,this._targetHover):this._on(this.element,"click",this._targetHover):this.model.trigger==f.Focus?(this.model.target!=null?this._on(this.element,"focus",this.model.target,this._targetHover):this._on(this.element,"focus",this._targetHover),this.model.target!=null?this._on(this.element,"blur",this.model.target,this._hideTooltip):this._on(this.element,"blur",this._hideTooltip)):this.model.trigger==f.Hover&&(this.model.target!=null?this._on(this.element,"mouseenter",this.model.target,this._targetHover):this._on(this.element,"mouseenter",this._targetHover));this.model.target!=null?this._on(this.element,"tap",this.model.target,this._targetHover):this._on(this.element,"tap",this._targetHover);this.model.target!=null?this._on(this.element,"mouseleave",this.model.target,this._onMouseOut):this._on(this.element,"mouseleave",this._onMouseOut);this.model.allowKeyboardNavigation&&this._on($(window),"keydown",this._keyDown);this.model.target!=null?this._on(this.element,"scroll",this.model.target,this._hideTooltip):this._on(this.element,"scroll",this._hideTooltip);this._on($(this.tooltip),"mouseenter",this._onMouseEnter);this._on($(this.tooltip),"mouseleave",this._onMouseLeave);this._on($(window),"resize",this._hideTooltip)},o.prototype._unwireEvents=function(){this.model.trigger==f.Click?ej.isNullOrUndefined(this.model.target)?this._off(this.element,"click",this._targetHover):this._off(this.element,"click",this.model.target,this._targetHover):this.model.trigger==f.Focus?(ej.isNullOrUndefined(this.model.target)?this._off(this.element,"focus",this._targetHover):this._off(this.element,"focus",this.model.target,this._targetHover),ej.isNullOrUndefined(this.model.target)?this._off(this.element,"blur",this._hideTooltip):this._off(this.element,"blur",this.model.target,this._hideTooltip)):this.model.trigger==f.Hover&&(ej.isNullOrUndefined(this.model.target)?this._off(this.element,"mouseenter",this._targetHover):this._off(this.element,"mouseenter",this.model.target,this._targetHover));this.model.associate==r.Mouse&&(ej.isNullOrUndefined(this.model.target)?this._off(this.element,"mousemove",this._mousePosition):this._off(this.element,"mousemove",this.model.target,this._mousePosition));ej.isNullOrUndefined(this.model.target)?this._off(this.element,"mouseleave",this._onMouseOut):this._off(this.element,"mouseleave",this.model.target,this._onMouseOut);ej.isNullOrUndefined(this.model.target)?this._off(this.element,"tap",this._targetHover):this._off(this.element,"tap",this.model.target,this._targetHover);ej.isNullOrUndefined(this.model.target)?this._off(this.element,"scroll",this._hideTooltip):this._off(this.element,"scroll",this.model.target,this._hideTooltip);this.model.allowKeyboardNavigation&&this._off($(window),"keydown",this._keyDown);this._off($(this.tooltip),"mouseenter",this._onMouseEnter);this._off($(this.tooltip),"mouseleave",this._onMouseLeave);this._off($(window),"resize",this._hideTooltip)},o.prototype._render=function(){this.tooltip=ej.buildTag("div.e-tooltip-wrap e-widget","",{},{role:"tooltip","aria-readonly":"true","aria-hidden":"true","aria-describedby":this.id+"_content",id:this.id+"_Main"});this.tooltipInter=ej.buildTag("div.e-tipContainer","",{},{});this.tooltip.append(this.tooltipInter);this.model.isBalloon&&this._renderArrow();$(this.model.containment).append(this.tooltip);this._setHeight(this.model.height);this._setWidth(this.model.width);this._createHeader();this._tooltipContent();this.model.cssClass&&this._setSkin(this.model.cssClass);this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner);this.model.enableRTL&&this._setRTL(this.model.enableRTL);$(this.tooltip).css({bottom:"auto",top:"auto",left:"auto",right:"auto"});this.tooltipPos={width:$(this.tooltip).outerWidth(),height:$(this.tooltip).outerHeight(),left:$(this.tooltip).offset().left,top:$(this.tooltip).offset().top,bottom:$(this.tooltip).offset().top+$(this.tooltip).outerHeight(),right:$(this.tooltip).offset().left+$(this.tooltip).outerWidth(),position:"absolute"};this._positionElement(this.element)},o.prototype._setHeight=function(n){this.model.height=n;!isNaN(+n)&&isFinite(n)?$(this.tooltip).css("height",n+"px"):$(this.tooltip).css("height",n);this.tooltipPos.height=$(this.tooltip).outerHeight()},o.prototype._setWidth=function(n){this.model.width=n;this.model.width!="auto"&&(n=!isNaN(+n)&&isFinite(n)?n+"px":n,$(this.tooltip).css("max-width",n),$(this.tooltip).css("min-width","0px"));$(this.tooltip).css("width",n);this.tooltipPos.height=$(this.tooltip).outerHeight()},o.prototype._setRTL=function(n){this.model.enableRTL=n;n?this.tooltip.addClass("e-rtl"):this.tooltip.removeClass("e-rtl")},o.prototype._setSkin=function(n){this.model.cssClass!=n&&(this.tooltip.removeClass(this.model.cssClass).addClass(n),this.model.cssClass=n)},o.prototype._roundedCorner=function(){this.model.showRoundedCorner?this.tooltip.addClass("e-corner"):this.tooltip.removeClass("e-corner")},o.prototype._renderArrow=function(){ej.isNullOrUndefined(this.tip)&&(this.tip=ej.buildTag("div.e-arrowTip"," ",{id:this.id+"_eTip"},{}),$(this.tip).append("<div class='e-arrowTipOuter'><\/div>").append("<div class='e-arrowTipInner'><\/div>"),$(this.tip).insertBefore(this.tooltipInter))},o.prototype._adjustArrow=function(n){var i,u,f,s=$(this.tooltip).width(),e=$(this.tooltip).height(),t=n.stem,o=n.target;(o.horizontal=="right"||o.horizontal=="left")&&this.model.associate!=r.Mouse?(f=t.horizontal=="left"?"rotate(90deg)":t.horizontal=="right"?"rotate(270deg)":"rotate(0deg)",i=t.horizontal=="left"?-(this.tipSize.width/2+this.tipSize.height/2):s-this.tipSize.height/2,u=t.vertical=="top"?5:t.vertical=="center"?e/2-this.tipSize.height/2:e-5-this.tipSize.height):(f=t.vertical=="top"?"rotate(180deg)":t.vertical=="bottom"?"rotate(0deg)":t.horizontal=="left"?"rotate(90deg)":t.horizontal=="right"?"rotate(270deg)":" ",u=t.vertical=="top"?-this.tipSize.height:t.vertical=="bottom"?e:this.tooltipPos.height/2+this.tipSize.height/2-this.tipSize.width/2,i=t.vertical=="center"?t.horizontal=="left"?-(this.tipSize.width/2+this.tipSize.height/2):s-this.tipSize.height/2:t.horizontal=="left"?10:t.horizontal=="center"?this.tooltipPos.width/2-this.tipSize.width/2:this.tooltipPos.width-10-this.tipSize.width);this.arrowValue.left=i;this.arrowValue.top=u;t.horizontal=="center"&&t.vertical=="center"||t.horizontal=="center"&&o.horizontal!="center"&&this.model.associate!=r.Mouse?$(this.tip).css({left:i+"px",top:u+"px",transform:f,display:"none",height:this.model.tip.size.height+"px",width:this.model.tip.size.width+"px"}):$(this.tip).css({left:i+"px",top:u+"px",transform:f,display:"block",height:this.model.tip.size.height+"px",width:this.model.tip.size.width+"px"})},o.prototype._iconRender=function(){this.model.closeMode==u.Sticky&&(ej.isNullOrUndefined(this.tooltipClose)||$(this.tooltipClose).remove(),this.tooltipClose=ej.buildTag("div .e-icon","",{},{id:"_closeIcon"}),this.model.title!=null?$(this.tooltipClose).insertAfter(this.tooltipTitle).addClass("e-tooltipCancel"):$(this.tooltipClose).insertBefore(this.tooltipInter).addClass("e-modalCancel"),this._on($(this.tooltipClose),"click",this._hideTooltip))},o.prototype._tooltipContent=function(){this.tooltipContent=ej.buildTag("div.e-tipcontent e-def","",{},{id:this.id+"_content"});$(this.tooltipContent).html(this.model.content).addClass("e-def");this.model.title!=null?$(this.tooltipContent).insertAfter(this.tooltipHeader):$(this.tooltipContent).appendTo(this.tooltipInter)},o.prototype._positionElement=function(n){this.tooltipPos.width=$(this.tooltip).outerWidth();this.tooltipPos.height=$(this.tooltip).outerHeight();this.windowSize={height:this.model.containment=="body"?$(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight:$(this.model.containment).outerHeight(),width:this.model.containment=="body"?$(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth:$(this.model.containment).outerWidth()};this.model.associate==r.Window?this._browserPosition():this.model.associate==r.Axis?this._axisPosition():this.model.associate==r.Target&&this._tooltipPosition(n,this.model.position);this.model.collision!=e.None&&this.model.associate==r.Target&&this._calcCollision(n,this.model.position)},o.prototype._browserPosition=function(){var n={position:"absolute",left:"auto",top:"auto",bottom:"auto",right:"auto"};ej.isNullOrUndefined(this.tip)||$(this.tip).css({display:"none"});this.model.position.target.horizontal=="right"?n.right=0:n.left=this.model.position.target.horizontal=="left"?0:this.windowSize.width/2-this.tooltipPos.width/2;this.model.position.target.vertical=="top"?n.top=0:this.model.position.target.vertical=="center"?n.top=this.windowSize.height/2-this.tooltipPos.height/2:n.bottom=0;$(this.tooltip).css(n)},o.prototype._mousePosition=function(n){if(this.model.closeMode==u.None&&this.model.associate==r.Mouse){this.isCollision=!0;for(var e=0,o=0,f=0,i={left:n.pageX,top:n.pageY},t=$.extend(!0,{},this.model.position.stem),s=$.extend(!0,{},this.model.position);this.isCollision;){var i={left:n.pageX,top:n.pageY},c=t.vertical=="top"||t.vertical=="bottom"?5+this.tipSize.height/2:0,h=t.horizontal=="right"||t.horizontal=="left"?10+this.tipSize.width/2:0,e=t.horizontal!="center"?this.model.tip.adjust.xValue:t.vertical!="center"?this.model.tip.adjust.yValue:0;if(o=t.horizontal!="center"?this.model.tip.size.height:t.vertical!="center"?this.model.tip.size.height:0,f=this.model.isBalloon?o+e:e,i.left+=t.horizontal=="right"?-this.tooltipPos.width:t.horizontal=="left"?0:-(this.tooltipPos.width/2),i.top+=t.vertical=="bottom"?-this.tooltipPos.height:t.vertical=="top"?0:-(this.tooltipPos.height/2),i.left+=t.vertical!="center"?t.horizontal=="right"?h:t.horizontal=="left"?-h:0:0,i.left+=t.horizontal=="right"?-f:t.horizontal=="left"?+f:0,i.top+=t.vertical=="top"?+f:t.vertical=="bottom"?-f:0,this.targetElement!=n.target&&(this.targetElement=n.target,(i.left<0||i.left+this.tooltipPos.width>this.windowSize.width)&&(this.positionTooltip.horizontal=i.left>=this.tooltipPos.width?"right":this.windowSize.width-i.left>=this.tooltipPos.width?"left":"center"),(i.top<0||i.top+this.tooltipPos.height>this.windowSize.height)&&(this.positionTooltip.vertical=i.top>=this.tooltipPos.height?"bottom":this.windowSize.height-i.top>=this.tooltipPos.height?"top":"center")),this.positionTooltip.horizontal!=t.horizontal||this.positionTooltip.vertical!=t.vertical)this.isCollision=!0,t=$.extend(!0,{},this.positionTooltip);else if(this.isCollision=!1,$(this.tooltip).css({top:i.top+"px",left:i.left+"px",position:"absolute",right:"auto",bottom:"auto"}),s.stem=$.extend(!0,{},this.positionTooltip),this.model.isBalloon&&this._adjustArrow(s),this._showTooltip(),this.triggerEvents("tracking",{position:this.model.position,event:n}))return}}},o.prototype._axisPosition=function(){var i,r,n,t;typeof this.model.position.target.horizontal=="number"&&(i=this.model.position.target.horizontal.toString());typeof this.model.position.target.vertical=="number"&&(r=this.model.position.target.vertical.toString());n=parseInt(i);t=parseInt(r);ej.isNullOrUndefined(this.tip)||$(this.tip).css({display:"none"});isFinite(n)&&isFinite(t)&&$(this.tooltip).css({top:t,left:n,position:"absolute"})},o.prototype._tooltipPosition=function(n,t){this.targetPos={width:$(n).outerWidth(),height:$(n).outerHeight(),left:$(n).offset().left,top:$(n).offset().top,position:"absolute"};var f=0,o=0,c=0,i=$.extend(!0,{},t.stem),u=$.extend(!0,{},t.target),r=$.extend(!0,{},this.targetPos),s=i.vertical=="top"||i.vertical=="bottom"?5+this.tipSize.height/2:0,h=i.horizontal=="right"||i.horizontal=="left"?10+this.tipSize.width/2:0,o=i.horizontal!="center"?this.model.tip.adjust.xValue:i.vertical!="center"?this.model.tip.adjust.yValue:0;f=i.horizontal!="center"?this.model.tip.size.height:i.vertical!="center"?this.model.tip.size.height:0;c=this.model.isBalloon?f+o:o;r.left+=u.horizontal=="right"?this.targetPos.width:u.horizontal=="left"?0:this.targetPos.width/2;r.top+=u.vertical=="bottom"?this.targetPos.height:u.vertical=="top"?0:this.targetPos.height/2;r.left+=i.horizontal=="right"?-this.tooltipPos.width:i.horizontal=="left"?0:-(this.tooltipPos.width/2);r.top+=i.vertical=="bottom"?-this.tooltipPos.height:i.vertical=="top"?0:-(this.tooltipPos.height/2);r.left+=u.horizontal!="center"?i.horizontal=="right"?-f:i.horizontal=="left"?f:0:i.vertical=="center"?i.horizontal=="right"?-f:i.horizontal=="left"?f:0:0;r.top+=u.horizontal=="center"?i.vertical=="bottom"?-f:i.vertical=="top"?f:0:0;r.left+=u.horizontal=="center"&&i.vertical!="center"?i.horizontal=="right"?h:i.horizontal=="left"?-h:0:0;r.top+=u.horizontal=="right"||u.horizontal=="left"?i.vertical=="top"?-s:i.vertical=="bottom"?s:0:0;this.tooltipPos.left=r.left;this.tooltipPos.top=r.top;this.model.collision==e.None&&(this.model.isBalloon&&this._adjustArrow(t),$(this.tooltip).css({top:r.top+"px",left:r.left+"px",position:"absolute"}))},o.prototype._calcCollision=function(n,t){var t=$.extend(!0,{},t),i=$.extend(!0,{},t),f=this.model.tip.size.height,r=!0,u={topSpace:parseInt(this.targetPos.top.toString()),rightSpace:this.windowSize.width-(parseInt(this.targetPos.left.toString())+this.targetPos.width),bottomSpace:this.windowSize.height-(parseInt(this.targetPos.top.toString())+this.targetPos.height),leftSpace:parseInt(this.targetPos.left.toString()),centerRight:this.windowSize.width-(parseInt(this.targetPos.left.toString())+this.targetPos.width/2),centerLeft:parseInt(this.targetPos.left.toString())+this.targetPos.width/2,centerTop:parseInt(this.targetPos.top.toString())+this.targetPos.height/2,centerBottom:this.windowSize.height-(parseInt(this.targetPos.top.toString())+this.targetPos.height/2),tooltipWidth:this.tooltipPos.width+f,tooltipHeight:this.tooltipPos.width+f};if(this.model.collision==e.Fit)this._collisionFit(t,u);else{while(r)i=this._collisionFlip(i,u),i.target.horizontal!=t.target.horizontal||i.target.vertical!=t.target.vertical||i.stem.horizontal!=t.stem.horizontal||i.stem.vertical!=t.stem.vertical?(this._tooltipPosition(n,i),t=$.extend(!0,{},i)):r=!1;r||(this.model.collision==e.FlipFit?(this._tooltipPosition(n,i),this._collisionFit(i,u)):(this._adjustArrow(i),$(this.tooltip).css({top:this.tooltipPos.top+"px",left:this.tooltipPos.left+"px",position:"absolute"})))}},o.prototype._collisionFlip=function(n,t){var r=$.extend(!0,{},this.tooltipPos),u=$.extend(!0,{},n.target),f=$.extend(!0,{},n.stem),i=$.extend(!0,{},n);return(r.left+r.width>this.windowSize.width||r.left<0)&&(n.target.horizontal!="center"?i.target.horizontal=t.leftSpace>=t.tooltipWidth?"left":t.rightSpace>=t.tooltipWidth?"right":"center":i.stem.horizontal=t.centerLeft>=t.tooltipWidth?"right":t.centerRight>=t.tooltipWidth?"left":"center"),r.top<0&&(i.target.vertical=t.bottomSpace>=t.tooltipHeight?"bottom":"center"),r.top+r.height>this.windowSize.height&&(i.target.vertical=t.topSpace>=t.tooltipHeight?"top":"center"),(i.target.horizontal!=n.target.horizontal||i.target.vertical!=n.target.vertical)&&(i.stem.horizontal=i.target.horizontal=="center"?t.centerLeft>=t.tooltipWidth?"right":t.centerRight>=t.tooltipWidth?"left":"center":i.target.horizontal=="right"?"left":"right"),(i.target.vertical!=n.target.vertical||i.target.horizontal!=n.target.horizontal)&&(i.stem.vertical=i.target.vertical=="center"?t.centerTop>=t.tooltipHeight?"bottom":t.centerBottom>=t.tooltipHeight?"top":t.centerTop>t.centerBottom?"bottom":"top":i.target.vertical=="top"?"bottom":"top"),i},o.prototype._collisionFit=function(n,t){var i=$.extend(!0,{},this.tooltipPos),e=!1,o=!1,u=1,f=1,r=null;(i.left<0||i.left+i.width>this.windowSize.width)&&(u=i.left<0?0:i.left+i.width>this.windowSize.width?i.left-(i.left+i.width-this.windowSize.width):1,e=!0);(i.top<0||i.top+i.height>this.windowSize.height)&&(f=i.top<0?0:i.top+i.height>this.windowSize.height?i.top-(i.top+i.height-this.windowSize.height):1,o=!0);$(this.tooltip).css({top:f!=1?f+"px":i.top+"px",left:u!=1?u+"px":i.left+"px",position:"absolute"});this._adjustArrow(n);r={left:this.arrowValue.left,top:this.arrowValue.top,transform:null,height:this.model.tip.size.height,width:this.model.tip.size.width,display:this.arrowValue.display};this.tooltipPos.top=f=f!=1?f:i.top;this.tooltipPos.left=u=u!=1?u:i.left;this.model.isBalloon&&(e&&(this.arrowValue.left=this._horizontalAdjustment(n,t)),o&&(this.arrowValue.top=this._verticalAdjustment(n,t)));r.transform=this.arrowValue.left==-(this.tipSize.width/2+this.tipSize.height/2)?"rotate(90deg)":this.arrowValue.left==$(this.tooltip).width()-this.tipSize.height/2?"rotate(270deg)":null;ej.isNullOrUndefined(r.transform)&&(r.transform=this.arrowValue.top==-this.tipSize.height?"rotate(180deg)":this.arrowValue.top==$(this.tooltip).height()?"rotate(0deg)":null);$(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",transform:r.transform==null?"rotate(0deg)":r.transform,display:r.transform==null?"none":"block",height:r.height,width:r.width});this.arrowValue.transform=$(this.tip).css("transform")},o.prototype._horizontalAdjustment=function(n,t){var r={left:this.arrowValue.left,top:this.arrowValue.top,transform:null,height:this.model.tip.size.height,width:this.model.tip.size.width,display:this.arrowValue.display},u,i;return $(this.tooltip).css({display:"block"}),u=n.target.horizontal!="center"?this.model.tip.size.height:this.model.tip.size.width,i=n.target.horizontal!="center"&&n.stem.horizontal=="left"?$(this.tip).offset().left:$(this.tip).offset().left+u,$(this.tooltip).css({display:"none"}),i>t.leftSpace&&i<t.leftSpace+this.targetPos.width?r.left:((i>t.leftSpace+this.targetPos.width||i<t.leftSpace)&&(r.left=t.leftSpace+this.targetPos.width/2-parseInt(this.tooltipPos.left.toString())),r.left)},o.prototype._verticalAdjustment=function(n,t){var r={left:this.arrowValue.left,top:this.arrowValue.top,transform:null,height:this.model.tip.size.height,width:this.model.tip.size.width,display:this.arrowValue.display},u,i;return $(this.tooltip).css({display:"block"}),u=n.target.horizontal!="center"?this.model.tip.size.width:this.model.tip.size.height,i=n.target.horizontal=="center"&&n.stem.vertical=="top"?$(this.tip).offset().top:$(this.tip).offset().top+u,$(this.tooltip).css({display:"none"}),i>t.topSpace&&i<t.topSpace+this.targetPos.height?r.top:((i<t.topSpace||i>t.topSpace+this.targetPos.height)&&(r.top=t.topSpace+this.targetPos.height/2-parseInt(this.tooltipPos.top.toString())),r.top)},o.prototype._createHeader=function(){this.model.title!=null&&(ej.isNullOrUndefined(this.tooltipTitle)&&this._createTitle(),ej.isNullOrUndefined(this.tooltipContent)?$(this.tooltipHeader).appendTo(this.tooltipInter).addClass("e-tooltipHeader"):$(this.tooltipHeader).insertBefore(this.tooltipContent).addClass("e-tooltipHeader"));this.model.closeMode==u.Sticky&&this._iconRender()},o.prototype._hideTooltip=function(){var n;if(n=this.model.animation.speed!=0?this.model.animation.speed:this.model.animation.effect==i.Slide?200:this.model.animation.effect==i.Fade?800:0,this.model.enabled==!0&&$(this.tooltip).css("display")=="block"){if(this.triggerEvents("beforeClose",{}))return;if(this.model.animation.effect==i.Fade?$(this.tooltip).fadeOut(n):this.model.animation.effect==i.Slide?$(this.tooltip).slideUp(n):$(this.tooltip).css({display:"none"}),$(this.tooltip).css("display")=="none"&&$(this.tooltip).attr("aria-hidden","true"),this.triggerEvents("close",{content:this.model.content}))return}},o.prototype._showTooltip=function(){var n=this.model.animation.speed!=0?this.model.animation.speed:this.model.animation.effect==i.Slide?200:this.model.animation.effect==i.Fade?800:0;$(this.tooltip).css("display")=="none"&&this.model.enabled==!0&&(this.model.animation.effect==i.Fade?$(this.tooltip).fadeIn(n):this.model.animation.effect==i.Slide?$(this.tooltip).slideDown(n):$(this.tooltip).css({display:"block"}),$(this.tooltip).css("display")=="block"&&$(this.tooltip).attr("aria-hidden","false").css({zIndex:ej.getMaxZindex()+1}),this.triggerEvents("open",{}))},o.prototype._tooltipAuto=function(){var n=this;this.timer=setTimeout(function(){n._hideTooltip()},n.model.autoCloseTimeout)},o.prototype._targetHover=function(n){if(this.model.enabled){if(this.positionTooltip=$.extend(!0,{},this.model.position.stem),this.positionTarget=$.extend(!0,{},this.model.position.target),this.targetElement=this.element,this.triggerEvents("beforeOpen",{event:n}))return;ej.isNullOrUndefined(this.model.target)||ej.isNullOrUndefined($(n.target).attr("data-content"))||(this.model.content=$(n.target).attr("data-content"),this._setContent(this.model.content));this.model.associate!=r.Mouse&&(ej.isNullOrUndefined(this.model.target)?this._positionElement(this.element):this._positionElement(n.target),$(this.tooltip).stop(!0,!0),clearTimeout(this.timer),this._showTooltip(),this.model.closeMode==u.Auto&&this._tooltipAuto(),n.type=="click"?this.triggerEvents("click",{event:n}):this.triggerEvents("hover",{event:n}))}},o.prototype._onMouseOut=function(){this.model.enabled&&this.model.closeMode==u.None&&this._hideTooltip()},o.prototype._onMouseEnter=function(){var n=this;this.model.enabled&&this.model.animation.effect==i.None&&$(n.tooltip).css({display:"block"})},o.prototype._onMouseLeave=function(){var n=this;this.model.enabled&&this.model.animation.effect==i.None&&n.model.closeMode==u.None&&$(n.tooltip).css({display:"none"})},o.prototype._keyDown=function(n){var t=n.keyCode?n.keyCode:n.which?n.which:n.charCode;if(this.model.enabled)switch(t){case 27:n.preventDefault();this.model.allowKeyboardNavigation?this._hideTooltip():this._showTooltip()}},o}(ej.WidgetBase);n.Tooltip=o;ej.widget("ejTooltip","ej.Tooltip",new o)})(n||(n={}))});
